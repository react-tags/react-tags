var ka=Object.create;var Ot=Object.defineProperty;var qa=Object.getOwnPropertyDescriptor;var Wa=Object.getOwnPropertyNames;var Ka=Object.getPrototypeOf,Ga=Object.prototype.hasOwnProperty;var za=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $a=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wa(t))!Ga.call(e,n)&&n!==r&&Ot(e,n,{get:()=>t[n],enumerable:!(a=qa(t,n))||a.enumerable});return e};var Lt=(e,t,r)=>(r=e!=null?ka(Ka(e)):{},$a(t||!e||!e.__esModule?Ot(r,"default",{value:e,enumerable:!0}):r,e));var xt=za((hd,je)=>{(function(){"use strict";var e={}.hasOwnProperty,t="[native code]";function r(){for(var a=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var i=typeof o;if(i==="string"||i==="number")a.push(o);else if(Array.isArray(o)){if(o.length){var l=r.apply(null,o);l&&a.push(l)}}else if(i==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){a.push(o.toString());continue}for(var u in o)e.call(o,u)&&o[u]&&a.push(u)}}}return a.join(" ")}typeof je<"u"&&je.exports?(r.default=r,je.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()});import{DndProvider as ri}from"react-dnd";import{HTML5Backend as ai}from"react-dnd-html5-backend";var F={ENTER:[10,13],TAB:9,BACKSPACE:8,UP_ARROW:38,DOWN_ARROW:40,ESCAPE:27,SPACE:32,COMMA:188},N={ENTER:"Enter",TAB:"Tab",COMMA:",",SPACE:" ",SEMICOLON:";"},Dt="Press enter to add new tag",Pt="text",et={tags:"ReactTags__tags",tagInput:"ReactTags__tagInput",tagInputField:"ReactTags__tagInputField",selected:"ReactTags__selected",tag:"ReactTags__tag",remove:"ReactTags__remove",suggestions:"ReactTags__suggestions",activeSuggestion:"ReactTags__activeSuggestion",editTagInput:"ReactTags__editTagInput",editTagInputField:"ReactTags__editTagInputField",clearAll:"ReactTags__clearAll"},oe={INLINE:"inline",TOP:"top",BOTTOM:"bottom"},tt={TAG_LIMIT:"Tag limit reached!"};import{useEffect as He,createRef as Zf,useRef as Ia,useState as $,Fragment as ei}from"react";var Qa=typeof global=="object"&&global&&global.Object===Object&&global,be=Qa;var Va=typeof self=="object"&&self&&self.Object===Object&&self,Ya=be||Va||Function("return this")(),v=Ya;var Ja=v.Symbol,I=Ja;var Mt=Object.prototype,Xa=Mt.hasOwnProperty,Za=Mt.toString,de=I?I.toStringTag:void 0;function eo(e){var t=Xa.call(e,de),r=e[de];try{e[de]=void 0;var a=!0}catch{}var n=Za.call(e);return a&&(t?e[de]=r:delete e[de]),n}var Ft=eo;var to=Object.prototype,ro=to.toString;function ao(e){return ro.call(e)}var Nt=ao;var oo="[object Null]",no="[object Undefined]",jt=I?I.toStringTag:void 0;function so(e){return e==null?e===void 0?no:oo:jt&&jt in Object(e)?Ft(e):Nt(e)}var C=so;function fo(e){return e!=null&&typeof e=="object"}var R=fo;var io="[object Symbol]";function lo(e){return typeof e=="symbol"||R(e)&&C(e)==io}var Ht=lo;function uo(e,t){for(var r=-1,a=e==null?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}var Bt=uo;var po=Array.isArray,j=po;var mo=1/0,Ut=I?I.prototype:void 0,kt=Ut?Ut.toString:void 0;function qt(e){if(typeof e=="string")return e;if(j(e))return Bt(e,qt)+"";if(Ht(e))return kt?kt.call(e):"";var t=e+"";return t=="0"&&1/e==-mo?"-0":t}var Wt=qt;function co(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Te=co;var go="[object AsyncFunction]",xo="[object Function]",ho="[object GeneratorFunction]",yo="[object Proxy]";function bo(e){if(!Te(e))return!1;var t=C(e);return t==xo||t==ho||t==go||t==yo}var ve=bo;var To=v["__core-js_shared__"],Ae=To;var Kt=function(){var e=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vo(e){return!!Kt&&Kt in e}var Gt=vo;var Ao=Function.prototype,So=Ao.toString;function Eo(e){if(e!=null){try{return So.call(e)}catch{}try{return e+""}catch{}}return""}var H=Eo;var _o=/[\\^$.*+?()[\]{}|]/g,Io=/^\[object .+?Constructor\]$/,wo=Function.prototype,Co=Object.prototype,Ro=wo.toString,Oo=Co.hasOwnProperty,Lo=RegExp("^"+Ro.call(Oo).replace(_o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Do(e){if(!Te(e)||Gt(e))return!1;var t=ve(e)?Lo:Io;return t.test(H(e))}var zt=Do;function Po(e,t){return e?.[t]}var $t=Po;function Mo(e,t){var r=$t(e,t);return zt(r)?r:void 0}var w=Mo;var Fo=w(v,"WeakMap"),Se=Fo;function No(){}var Qt=No;function jo(e,t,r,a){for(var n=e.length,o=r+(a?1:-1);a?o--:++o<n;)if(t(e[o],o,e))return o;return-1}var Vt=jo;function Ho(e){return e!==e}var Yt=Ho;function Bo(e,t,r){for(var a=r-1,n=e.length;++a<n;)if(e[a]===t)return a;return-1}var Jt=Bo;function Uo(e,t,r){return t===t?Jt(e,t,r):Vt(e,Yt,r)}var Xt=Uo;function ko(e,t){var r=e==null?0:e.length;return!!r&&Xt(e,t,0)>-1}var Zt=ko;var qo=9007199254740991,Wo=/^(?:0|[1-9]\d*)$/;function Ko(e,t){var r=typeof e;return t=t??qo,!!t&&(r=="number"||r!="symbol"&&Wo.test(e))&&e>-1&&e%1==0&&e<t}var er=Ko;function Go(e,t){return e===t||e!==e&&t!==t}var Ee=Go;var zo=9007199254740991;function $o(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zo}var _e=$o;function Qo(e){return e!=null&&_e(e.length)&&!ve(e)}var tr=Qo;var Vo=Object.prototype;function Yo(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Vo;return e===r}var rr=Yo;function Jo(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var ar=Jo;var Xo="[object Arguments]";function Zo(e){return R(e)&&C(e)==Xo}var rt=Zo;var or=Object.prototype,en=or.hasOwnProperty,tn=or.propertyIsEnumerable,rn=rt(function(){return arguments}())?rt:function(e){return R(e)&&en.call(e,"callee")&&!tn.call(e,"callee")},nr=rn;function an(){return!1}var sr=an;var lr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fr=lr&&typeof module=="object"&&module&&!module.nodeType&&module,on=fr&&fr.exports===lr,ir=on?v.Buffer:void 0,nn=ir?ir.isBuffer:void 0,sn=nn||sr,ce=sn;var fn="[object Arguments]",ln="[object Array]",un="[object Boolean]",pn="[object Date]",mn="[object Error]",dn="[object Function]",cn="[object Map]",gn="[object Number]",xn="[object Object]",hn="[object RegExp]",yn="[object Set]",bn="[object String]",Tn="[object WeakMap]",vn="[object ArrayBuffer]",An="[object DataView]",Sn="[object Float32Array]",En="[object Float64Array]",_n="[object Int8Array]",In="[object Int16Array]",wn="[object Int32Array]",Cn="[object Uint8Array]",Rn="[object Uint8ClampedArray]",On="[object Uint16Array]",Ln="[object Uint32Array]",x={};x[Sn]=x[En]=x[_n]=x[In]=x[wn]=x[Cn]=x[Rn]=x[On]=x[Ln]=!0;x[fn]=x[ln]=x[vn]=x[un]=x[An]=x[pn]=x[mn]=x[dn]=x[cn]=x[gn]=x[xn]=x[hn]=x[yn]=x[bn]=x[Tn]=!1;function Dn(e){return R(e)&&_e(e.length)&&!!x[C(e)]}var ur=Dn;function Pn(e){return function(t){return e(t)}}var pr=Pn;var mr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ge=mr&&typeof module=="object"&&module&&!module.nodeType&&module,Mn=ge&&ge.exports===mr,at=Mn&&be.process,Fn=function(){try{var e=ge&&ge.require&&ge.require("util").types;return e||at&&at.binding&&at.binding("util")}catch{}}(),ot=Fn;var dr=ot&&ot.isTypedArray,Nn=dr?pr(dr):ur,Ie=Nn;var jn=Object.prototype,Hn=jn.hasOwnProperty;function Bn(e,t){var r=j(e),a=!r&&nr(e),n=!r&&!a&&ce(e),o=!r&&!a&&!n&&Ie(e),i=r||a||n||o,l=i?ar(e.length,String):[],u=l.length;for(var f in e)(t||Hn.call(e,f))&&!(i&&(f=="length"||n&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||er(f,u)))&&l.push(f);return l}var cr=Bn;function Un(e,t){return function(r){return e(t(r))}}var gr=Un;var kn=gr(Object.keys,Object),xr=kn;var qn=Object.prototype,Wn=qn.hasOwnProperty;function Kn(e){if(!rr(e))return xr(e);var t=[];for(var r in Object(e))Wn.call(e,r)&&r!="constructor"&&t.push(r);return t}var hr=Kn;function Gn(e){return tr(e)?cr(e):hr(e)}var yr=Gn;var zn=w(Object,"create"),B=zn;function $n(){this.__data__=B?B(null):{},this.size=0}var br=$n;function Qn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Tr=Qn;var Vn="__lodash_hash_undefined__",Yn=Object.prototype,Jn=Yn.hasOwnProperty;function Xn(e){var t=this.__data__;if(B){var r=t[e];return r===Vn?void 0:r}return Jn.call(t,e)?t[e]:void 0}var vr=Xn;var Zn=Object.prototype,es=Zn.hasOwnProperty;function ts(e){var t=this.__data__;return B?t[e]!==void 0:es.call(t,e)}var Ar=ts;var rs="__lodash_hash_undefined__";function as(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=B&&t===void 0?rs:t,this}var Sr=as;function ne(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}ne.prototype.clear=br;ne.prototype.delete=Tr;ne.prototype.get=vr;ne.prototype.has=Ar;ne.prototype.set=Sr;var nt=ne;function os(){this.__data__=[],this.size=0}var Er=os;function ns(e,t){for(var r=e.length;r--;)if(Ee(e[r][0],t))return r;return-1}var q=ns;var ss=Array.prototype,fs=ss.splice;function is(e){var t=this.__data__,r=q(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():fs.call(t,r,1),--this.size,!0}var _r=is;function ls(e){var t=this.__data__,r=q(t,e);return r<0?void 0:t[r][1]}var Ir=ls;function us(e){return q(this.__data__,e)>-1}var wr=us;function ps(e,t){var r=this.__data__,a=q(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var Cr=ps;function se(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}se.prototype.clear=Er;se.prototype.delete=_r;se.prototype.get=Ir;se.prototype.has=wr;se.prototype.set=Cr;var W=se;var ms=w(v,"Map"),K=ms;function ds(){this.size=0,this.__data__={hash:new nt,map:new(K||W),string:new nt}}var Rr=ds;function cs(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Or=cs;function gs(e,t){var r=e.__data__;return Or(t)?r[typeof t=="string"?"string":"hash"]:r.map}var G=gs;function xs(e){var t=G(this,e).delete(e);return this.size-=t?1:0,t}var Lr=xs;function hs(e){return G(this,e).get(e)}var Dr=hs;function ys(e){return G(this,e).has(e)}var Pr=ys;function bs(e,t){var r=G(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var Mr=bs;function fe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}fe.prototype.clear=Rr;fe.prototype.delete=Lr;fe.prototype.get=Dr;fe.prototype.has=Pr;fe.prototype.set=Mr;var we=fe;function Ts(e){return e==null?"":Wt(e)}var Ce=Ts;function vs(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}var Fr=vs;function As(e){return function(t){return e?.[t]}}var Nr=As;function Ss(){this.__data__=new W,this.size=0}var jr=Ss;function Es(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Hr=Es;function _s(e){return this.__data__.get(e)}var Br=_s;function Is(e){return this.__data__.has(e)}var Ur=Is;var ws=200;function Cs(e,t){var r=this.__data__;if(r instanceof W){var a=r.__data__;if(!K||a.length<ws-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new we(a)}return r.set(e,t),this.size=r.size,this}var kr=Cs;function ie(e){var t=this.__data__=new W(e);this.size=t.size}ie.prototype.clear=jr;ie.prototype.delete=Hr;ie.prototype.get=Br;ie.prototype.has=Ur;ie.prototype.set=kr;var Re=ie;function Rs(e,t){for(var r=-1,a=e==null?0:e.length,n=0,o=[];++r<a;){var i=e[r];t(i,r,e)&&(o[n++]=i)}return o}var qr=Rs;function Os(){return[]}var Wr=Os;var Ls=Object.prototype,Ds=Ls.propertyIsEnumerable,Kr=Object.getOwnPropertySymbols,Ps=Kr?function(e){return e==null?[]:(e=Object(e),qr(Kr(e),function(t){return Ds.call(e,t)}))}:Wr,Gr=Ps;function Ms(e,t,r){var a=t(e);return j(e)?a:Fr(a,r(e))}var zr=Ms;function Fs(e){return zr(e,yr,Gr)}var st=Fs;var Ns=w(v,"DataView"),Oe=Ns;var js=w(v,"Promise"),Le=js;var Hs=w(v,"Set"),z=Hs;var $r="[object Map]",Bs="[object Object]",Qr="[object Promise]",Vr="[object Set]",Yr="[object WeakMap]",Jr="[object DataView]",Us=H(Oe),ks=H(K),qs=H(Le),Ws=H(z),Ks=H(Se),J=C;(Oe&&J(new Oe(new ArrayBuffer(1)))!=Jr||K&&J(new K)!=$r||Le&&J(Le.resolve())!=Qr||z&&J(new z)!=Vr||Se&&J(new Se)!=Yr)&&(J=function(e){var t=C(e),r=t==Bs?e.constructor:void 0,a=r?H(r):"";if(a)switch(a){case Us:return Jr;case ks:return $r;case qs:return Qr;case Ws:return Vr;case Ks:return Yr}return t});var ft=J;var Gs=v.Uint8Array,it=Gs;var zs="__lodash_hash_undefined__";function $s(e){return this.__data__.set(e,zs),this}var Xr=$s;function Qs(e){return this.__data__.has(e)}var Zr=Qs;function De(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new we;++t<r;)this.add(e[t])}De.prototype.add=De.prototype.push=Xr;De.prototype.has=Zr;var Pe=De;function Vs(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var ea=Vs;function Ys(e,t){return e.has(t)}var Me=Ys;var Js=1,Xs=2;function Zs(e,t,r,a,n,o){var i=r&Js,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;var f=o.get(e),g=o.get(t);if(f&&g)return f==t&&g==e;var m=-1,p=!0,T=r&Xs?new Pe:void 0;for(o.set(e,t),o.set(t,e);++m<l;){var h=e[m],y=t[m];if(a)var b=i?a(y,h,m,t,e,o):a(h,y,m,e,t,o);if(b!==void 0){if(b)continue;p=!1;break}if(T){if(!ea(t,function(A,S){if(!Me(T,S)&&(h===A||n(h,A,r,a,o)))return T.push(S)})){p=!1;break}}else if(!(h===y||n(h,y,r,a,o))){p=!1;break}}return o.delete(e),o.delete(t),p}var Fe=Zs;function ef(e){var t=-1,r=Array(e.size);return e.forEach(function(a,n){r[++t]=[n,a]}),r}var ta=ef;function tf(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var le=tf;var rf=1,af=2,of="[object Boolean]",nf="[object Date]",sf="[object Error]",ff="[object Map]",lf="[object Number]",uf="[object RegExp]",pf="[object Set]",mf="[object String]",df="[object Symbol]",cf="[object ArrayBuffer]",gf="[object DataView]",ra=I?I.prototype:void 0,lt=ra?ra.valueOf:void 0;function xf(e,t,r,a,n,o,i){switch(r){case gf:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cf:return!(e.byteLength!=t.byteLength||!o(new it(e),new it(t)));case of:case nf:case lf:return Ee(+e,+t);case sf:return e.name==t.name&&e.message==t.message;case uf:case mf:return e==t+"";case ff:var l=ta;case pf:var u=a&rf;if(l||(l=le),e.size!=t.size&&!u)return!1;var f=i.get(e);if(f)return f==t;a|=af,i.set(e,t);var g=Fe(l(e),l(t),a,n,o,i);return i.delete(e),g;case df:if(lt)return lt.call(e)==lt.call(t)}return!1}var aa=xf;var hf=1,yf=Object.prototype,bf=yf.hasOwnProperty;function Tf(e,t,r,a,n,o){var i=r&hf,l=st(e),u=l.length,f=st(t),g=f.length;if(u!=g&&!i)return!1;for(var m=u;m--;){var p=l[m];if(!(i?p in t:bf.call(t,p)))return!1}var T=o.get(e),h=o.get(t);if(T&&h)return T==t&&h==e;var y=!0;o.set(e,t),o.set(t,e);for(var b=i;++m<u;){p=l[m];var A=e[p],S=t[p];if(a)var E=i?a(S,A,p,t,e,o):a(A,S,p,e,t,o);if(!(E===void 0?A===S||n(A,S,r,a,o):E)){y=!1;break}b||(b=p=="constructor")}if(y&&!b){var P=e.constructor,U=t.constructor;P!=U&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof U=="function"&&U instanceof U)&&(y=!1)}return o.delete(e),o.delete(t),y}var oa=Tf;var vf=1,na="[object Arguments]",sa="[object Array]",Ne="[object Object]",Af=Object.prototype,fa=Af.hasOwnProperty;function Sf(e,t,r,a,n,o){var i=j(e),l=j(t),u=i?sa:ft(e),f=l?sa:ft(t);u=u==na?Ne:u,f=f==na?Ne:f;var g=u==Ne,m=f==Ne,p=u==f;if(p&&ce(e)){if(!ce(t))return!1;i=!0,g=!1}if(p&&!g)return o||(o=new Re),i||Ie(e)?Fe(e,t,r,a,n,o):aa(e,t,u,r,a,n,o);if(!(r&vf)){var T=g&&fa.call(e,"__wrapped__"),h=m&&fa.call(t,"__wrapped__");if(T||h){var y=T?e.value():e,b=h?t.value():t;return o||(o=new Re),n(y,b,r,a,o)}}return p?(o||(o=new Re),oa(e,t,r,a,n,o)):!1}var ia=Sf;function la(e,t,r,a,n){return e===t?!0:e==null||t==null||!R(e)&&!R(t)?e!==e&&t!==t:ia(e,t,r,a,la,n)}var ua=la;function Ef(e,t,r){for(var a=-1,n=e==null?0:e.length;++a<n;)if(r(t,e[a]))return!0;return!1}var pa=Ef;var _f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},If=Nr(_f),ma=If;var da=/[&<>"']/g,wf=RegExp(da.source);function Cf(e){return e=Ce(e),e&&wf.test(e)?e.replace(da,ma):e}var ut=Cf;var ca=/[\\^$.*+?()[\]{}|]/g,Rf=RegExp(ca.source);function Of(e){return e=Ce(e),e&&Rf.test(e)?e.replace(ca,"\\$&"):e}var pt=Of;function Lf(e,t){return ua(e,t)}var mt=Lf;var Df=1/0,Pf=z&&1/le(new z([,-0]))[1]==Df?function(e){return new z(e)}:Qt,ga=Pf;var Mf=200;function Ff(e,t,r){var a=-1,n=Zt,o=e.length,i=!0,l=[],u=l;if(r)i=!1,n=pa;else if(o>=Mf){var f=t?null:ga(e);if(f)return le(f);i=!1,n=Me,u=new Pe}else u=t?[]:l;e:for(;++a<o;){var g=e[a],m=t?t(g):g;if(g=r||g!==0?g:0,i&&m===m){for(var p=u.length;p--;)if(u[p]===m)continue e;t&&u.push(m),l.push(g)}else n(u,m,r)||(u!==l&&u.push(m),l.push(g))}return l}var xa=Ff;function Nf(e){return e&&e.length?xa(e):[]}var dt=Nf;import{jsx as Hf}from"react/jsx-runtime";var jf=e=>Hf("button",{"aria-label":e["aria-label"],className:e.classNames.clearAll,onClick:e.onClick,children:"Clear all"}),ha=jf;import{createRef as Bf,memo as Uf,useEffect as kf}from"react";import{jsx as ct,jsxs as zf}from"react/jsx-runtime";var qf=(e,t)=>{let r=t.offsetHeight,a=e.offsetHeight,n=e.offsetTop-t.scrollTop;n+a>=r?t.scrollTop+=n-r+a:n<0&&(t.scrollTop+=n)},gt=(e,t,r,a)=>typeof a=="function"?a(e):e.length>=t&&r,Wf=e=>{let t=Bf(),{labelField:r,minQueryLength:a,isFocused:n,classNames:o,selectedIndex:i,query:l}=e;kf(()=>{if(!t.current)return;let m=t.current.querySelector(`.${o.activeSuggestion}`);m&&qf(m,t.current)},[i]);let u=(m,p)=>{let T=p.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),{[r]:h}=m;return{__html:h.replace(RegExp(T,"gi"),y=>`<mark>${ut(y)}</mark>`)}},f=(m,p)=>typeof e.renderSuggestion=="function"?e.renderSuggestion(m,p):ct("span",{dangerouslySetInnerHTML:u(m,p)}),g=e.suggestions.map((m,p)=>ct("li",{onMouseDown:e.handleClick.bind(null,p),onTouchStart:e.handleClick.bind(null,p),onMouseOver:e.handleHover.bind(null,p),className:p===e.selectedIndex?e.classNames.activeSuggestion:"",children:f(m,e.query)},p));return g.length===0||!gt(l,a||2,n,e.shouldRenderSuggestions)?null:ct("div",{ref:t,className:o.suggestions,"data-testid":"suggestions",children:zf("ul",{children:[" ",g," "]})})},Kf=(e,t)=>{let{query:r,minQueryLength:a=2,isFocused:n,suggestions:o}=t;return!!(e.isFocused===n&&mt(e.suggestions,o)&&gt(r,a,n,t.shouldRenderSuggestions)===gt(e.query,e.minQueryLength??2,e.isFocused,e.shouldRenderSuggestions)&&e.selectedIndex===t.selectedIndex)},Gf=Uf(Wf,Kf),ya=Gf;var wa=Lt(xt(),1);var Ea=Lt(xt(),1);import{useRef as Qf}from"react";import{useDrag as Vf,useDrop as Yf}from"react-dnd";function ba(e){let t=e.map(a=>{let n=a-48*Math.floor(a/48);return String.fromCharCode(96<=a?n:a)}).join(""),r=pt(t);return new RegExp(`[${r}]+`)}function Ta(e){switch(e){case N.ENTER:return[10,13];case N.TAB:return 9;case N.COMMA:return 188;case N.SPACE:return 32;case N.SEMICOLON:return 186;default:return 0}}function ht(e){let{moveTag:t,readOnly:r,allowDragDrop:a}=e;return t!==void 0&&!r&&a}function va(e){let{readOnly:t,allowDragDrop:r}=e;return!t&&r}import{jsx as xe}from"react/jsx-runtime";var $f=e=>{let{readOnly:t,removeComponent:r,onRemove:a,className:n,tag:o,index:i}=e,l=f=>{if(F.ENTER.includes(f.keyCode)||f.keyCode===F.SPACE){f.preventDefault(),f.stopPropagation();return}f.keyCode===F.BACKSPACE&&a(f)};if(t)return xe("span",{});let u=`Tag at index ${i} with value ${o.id} focussed. Press backspace to remove`;return r?xe(r,{"data-testid":"remove",onRemove:a,onKeyDown:l,className:n,"aria-label":u,tag:o,index:i}):xe("button",{"data-testid":"remove",onClick:a,onKeyDown:l,className:n,type:"button","aria-label":u,children:xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:"12",width:"12",fill:"#fff",children:xe("path",{d:"M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"})})})},Aa=$f;import{jsx as Jf,jsxs as Xf}from"react/jsx-runtime";var Sa={TAG:"tag"},_a=e=>{let t=Qf(null),{readOnly:r=!1,tag:a,classNames:n,index:o,moveTag:i,allowDragDrop:l=!0,labelField:u="text",tags:f}=e,[{isDragging:g},m]=Vf(()=>({type:Sa.TAG,collect:b=>({isDragging:!!b.isDragging()}),item:e,canDrag:()=>ht({moveTag:i,readOnly:r,allowDragDrop:l})}),[f]),[,p]=Yf(()=>({accept:Sa.TAG,drop:b=>{let A=b.index,S=o;A!==S&&e?.moveTag?.(A,S)},canDrop:b=>va(b)}),[f]);m(p(t));let T=e.tag[u],{className:h=""}=a,y=g?0:1;return Xf("span",{ref:t,className:(0,Ea.default)("tag-wrapper",n.tag,h),style:{opacity:y,cursor:ht({moveTag:i,readOnly:r,allowDragDrop:l})?"move":"auto"},"data-testid":"tag",onClick:e.onTagClicked,onTouchStart:e.onTagClicked,children:[T,Jf(Aa,{tag:e.tag,className:n.remove,removeComponent:e.removeComponent,onRemove:e.onDelete,readOnly:r,index:o})]})};import{jsx as D,jsxs as Be}from"react/jsx-runtime";var ti=e=>{let{autofocus:t,autoFocus:r,readOnly:a,labelField:n,allowDeleteFromEmptyInput:o,allowAdditionFromPaste:i,allowDragDrop:l,minQueryLength:u,shouldRenderSuggestions:f,removeComponent:g,autocomplete:m,inline:p,maxTags:T,allowUnique:h,editable:y,placeholder:b,delimiters:A,separators:S,tags:E,inputFieldPosition:P,inputProps:U,classNames:Ue,maxLength:ke,inputValue:qe,clearAll:We,ariaAttrs:Ke}=e,[k,he]=$(e.suggestions),[O,X]=$(""),[Ge,ye]=$(!1),[L,M]=$(-1),[ze,Q]=$(!1),[$e,Qe]=$(""),[Z,ee]=$(-1),[bt,te]=$(""),Ve=Zf(),V=Ia(null),Tt=Ia(null);He(()=>{A.length&&console.warn("[Deprecation] The delimiters prop is deprecated and will be removed in v7.x.x, please use separators instead. If you have any concerns regarding this, please share your thoughts in https://github.com/react-tags/react-tags/issues/960")},[]),He(()=>{typeof p<"u"&&console.warn("[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.")},[p]),He(()=>{typeof t<"u"&&console.warn("[Deprecated] autofocus prop will be removed in 7.x so please migrate to autoFocus prop."),(t||r&&t!==!1)&&!a&&ue()},[r,r,a]),He(()=>{La()},[O,e.suggestions]);let vt=s=>{let d=e.suggestions.slice();if(h){let Y=E.map(pe=>pe.id.trim().toLowerCase());d=d.filter(pe=>!Y.includes(pe.id.toLowerCase()))}if(e.handleFilterSuggestions)return e.handleFilterSuggestions(s,d);let c=d.filter(Y=>At(s,Y)===0),_=d.filter(Y=>At(s,Y)>0);return c.concat(_)},At=(s,d)=>d[n].toLowerCase().indexOf(s.toLowerCase()),ue=()=>{X(""),V.current&&(V.current.value="",V.current.focus())},St=(s,d)=>{d.preventDefault(),d.stopPropagation();let c=E.slice();c.length!==0&&(te(""),e?.handleDelete?.(s,d),Ra(s,c))},Ra=(s,d)=>{if(!Ve?.current)return;let c=Ve.current.querySelectorAll(".ReactTags__remove"),_="";s===0&&d.length>1?(_=`Tag at index ${s} with value ${d[s].id} deleted. Tag at index 0 with value ${d[1].id} focussed. Press backspace to remove`,c[0].focus()):s>0?(_=`Tag at index ${s} with value ${d[s].id} deleted. Tag at index ${s-1} with value ${d[s-1].id} focussed. Press backspace to remove`,c[s-1].focus()):(_=`Tag at index ${s} with value ${d[s].id} deleted. Input focussed. Press enter to add a new tag`,V.current?.focus()),Qe(_)},Oa=(s,d,c)=>{a||(y&&(ee(s),X(d[n]),Tt.current?.focus()),e.handleTagClick?.(s,c))},Et=s=>{e.handleInputChange&&e.handleInputChange(s.target.value,s);let d=s.target.value.trim();X(d)},La=()=>{let s=vt(O);he(s),M(L>=s.length?s.length-1:L)},_t=s=>{let d=s.target.value;e.handleInputFocus&&e.handleInputFocus(d,s),ye(!0)},It=s=>{let d=s.target.value;e.handleInputBlur&&(e.handleInputBlur(d,s),V.current&&(V.current.value="")),ye(!1),ee(-1)},wt=s=>{if(!s.nativeEvent.isComposing){if(s.key==="Escape"&&(s.preventDefault(),s.stopPropagation(),M(-1),Q(!1),he([]),ee(-1)),(S.indexOf(s.key)!==-1||A.indexOf(s.keyCode)!==-1)&&!s.shiftKey){(s.keyCode!==F.TAB||O!=="")&&s.preventDefault();let c=ze&&L!==-1?k[L]:{id:O.trim(),[n]:O.trim(),className:""};Object.keys(c)&&Ye(c)}s.key==="Backspace"&&O===""&&(o||P===oe.INLINE)&&St(E.length-1,s),s.keyCode===F.UP_ARROW&&(s.preventDefault(),M(L<=0?k.length-1:L-1),Q(!0)),s.keyCode===F.DOWN_ARROW&&(s.preventDefault(),Q(!0),k.length===0?M(-1):M((L+1)%k.length))}},Ct=()=>T&&E.length>=T,Rt=s=>{if(!i)return;if(Ct()){te(tt.TAG_LIMIT),ue();return}te(""),s.preventDefault();let d=s.clipboardData||window.clipboardData,c=d.getData("text"),{maxLength:_=c.length}=e,Y=Math.min(_,c.length),pe=d.getData("text").substr(0,Y),me=A;S.length&&(me=[],S.forEach(ae=>{let Ze=Ta(ae);Array.isArray(Ze)?me=[...me,...Ze]:me.push(Ze)}));let Ba=ba(me),Ua=pe.split(Ba).map(ae=>ae.trim());dt(Ua).forEach(ae=>Ye({id:ae.trim(),[n]:ae.trim(),className:""}))},Ye=s=>{if(!s.id||!s[n])return;if(Z===-1){if(Ct()){te(tt.TAG_LIMIT),ue();return}te("")}let d=E.map(c=>c.id.toLowerCase());if(!(h&&d.indexOf(s.id.trim().toLowerCase())>=0)){if(m){let c=vt(s[n]);console.warn("[Deprecation] The autocomplete prop will be removed in 7.x to simplify the integration and make it more intutive. If you have any concerns regarding this, please share your thoughts in https://github.com/react-tags/react-tags/issues/949"),(m===1&&c.length===1||m===!0&&c.length)&&(s=c[0])}Z!==-1&&e.onTagUpdate?e.onTagUpdate(Z,s):e?.handleAddition?.(s),X(""),Q(!1),M(-1),ee(-1),ue()}},Da=s=>{Ye(k[s])},Pa=()=>{e.onClearAll&&e.onClearAll(),te(""),ue()},Ma=s=>{M(s),Q(!0)},Fa=(s,d)=>{let c=E[s];e?.handleDrag?.(c,s,d)},Na=(()=>{let s={...et,...e.classNames};return E.map((d,c)=>D(ei,{children:Z===c?D("div",{className:s.editTagInput,children:D("input",{ref:_=>{Tt.current=_},onFocus:_t,value:O,onChange:Et,onKeyDown:wt,onBlur:It,className:s.editTagInputField,onPaste:Rt,"data-testid":"tag-edit"})}):D(_a,{index:c,tag:d,tags:E,labelField:n,onDelete:_=>St(c,_),moveTag:l?Fa:void 0,removeComponent:g,onTagClicked:_=>Oa(c,d,_),readOnly:a,classNames:s,allowDragDrop:l})},c))})(),re={...et,...Ue},{name:ja,id:Ha}=e,Je=p===!1?oe.BOTTOM:P,Xe=a?null:Be("div",{className:re.tagInput,children:[D("input",{...U,ref:s=>{V.current=s},className:re.tagInputField,type:"text",placeholder:b,"aria-label":b,onFocus:_t,onBlur:It,onChange:Et,onKeyDown:wt,onPaste:Rt,name:ja,id:Ha,maxLength:ke,value:qe,"data-automation":"input","data-testid":"input"}),D(ya,{query:O.trim(),suggestions:k,labelField:n,selectedIndex:L,handleClick:Da,handleHover:Ma,minQueryLength:u,shouldRenderSuggestions:f,isFocused:Ge,classNames:re,renderSuggestion:e.renderSuggestion}),We&&E.length>0&&D(ha,{"aria-label":Ke?.clearAllLabel,classNames:re,onClick:Pa}),bt&&Be("div",{"data-testid":"error",className:"ReactTags__error",children:[D("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:"24",width:"24",fill:"#e03131",children:D("path",{d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})}),bt]})]});return Be("div",{className:(0,wa.default)(re.tags,"react-tags-wrapper"),ref:Ve,children:[D("p",{role:"alert",className:"sr-only",style:{position:"absolute",overflow:"hidden",clip:"rect(0 0 0 0)",margin:"-1px",padding:0,width:"1px",height:"1px",border:0},children:$e}),Je===oe.TOP&&Xe,Be("div",{className:re.selected,children:[Na,Je===oe.INLINE&&Xe]}),Je===oe.BOTTOM&&Xe]})},Ca=ti;import{jsx as yt}from"react/jsx-runtime";var oi=e=>{let{placeholder:t=Dt,labelField:r=Pt,suggestions:a=[],delimiters:n=[],separators:o=e.delimiters?.length?[]:[N.ENTER,N.TAB],autofocus:i,autoFocus:l=!0,inline:u,inputFieldPosition:f="inline",allowDeleteFromEmptyInput:g=!1,allowAdditionFromPaste:m=!0,autocomplete:p=!1,readOnly:T=!1,allowUnique:h=!0,allowDragDrop:y=!0,tags:b=[],inputProps:A={},editable:S=!1,clearAll:E=!1,ariaAttrs:P={clearAllLabel:"clear all tags"},handleDelete:U,handleAddition:Ue,onTagUpdate:ke,handleDrag:qe,handleFilterSuggestions:We,handleTagClick:Ke,handleInputChange:k,handleInputFocus:he,handleInputBlur:O,minQueryLength:X,shouldRenderSuggestions:Ge,removeComponent:ye,onClearAll:L,classNames:M,name:ze,id:Q,maxLength:$e,inputValue:Qe,maxTags:Z,renderSuggestion:ee}=e;return yt(Ca,{placeholder:t,labelField:r,suggestions:a,delimiters:n,separators:o,autofocus:i,autoFocus:l,inline:u,inputFieldPosition:f,allowDeleteFromEmptyInput:g,allowAdditionFromPaste:m,autocomplete:p,readOnly:T,allowUnique:h,allowDragDrop:y,tags:b,inputProps:A,editable:S,clearAll:E,ariaAttrs:P,handleDelete:U,handleAddition:Ue,onTagUpdate:ke,handleDrag:qe,handleFilterSuggestions:We,handleTagClick:Ke,handleInputChange:k,handleInputFocus:he,handleInputBlur:O,minQueryLength:X,shouldRenderSuggestions:Ge,removeComponent:ye,onClearAll:L,classNames:M,name:ze,id:Q,maxLength:$e,inputValue:Qe,maxTags:Z,renderSuggestion:ee})},zd=({...e})=>yt(ri,{backend:ai,children:yt(oi,{...e})});export{F as KEYS,N as SEPARATORS,zd as WithContext,oi as WithOutContext};
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
